[{"/Users/jarvis/workspace/buffalo-client/src/index.tsx":"1","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/index.tsx":"2","/Users/jarvis/workspace/buffalo-client/src/reportWebVitals.ts":"3","/Users/jarvis/workspace/buffalo-client/src/util.ts":"4","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/Tools.tsx":"5","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/MaterialList.tsx":"6","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/Canvas.tsx":"7","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/ErrorBoundary.tsx":"8","/Users/jarvis/workspace/buffalo-client/src/store/index.ts":"9","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/PropsController.tsx":"10","/Users/jarvis/workspace/buffalo-client/src/widgets/styled.tsx":"11","/Users/jarvis/workspace/buffalo-client/src/store/editor/selectors.ts":"12","/Users/jarvis/workspace/buffalo-client/src/store/editor/initialState.ts":"13","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/Content.tsx":"14","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/Sider.tsx":"15","/Users/jarvis/workspace/buffalo-client/src/store/editor/editorSlice.tsx":"16","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/property-controls.ts":"17","/Users/jarvis/workspace/buffalo-client/src/store/editor/registerComponents.tsx":"18","/Users/jarvis/workspace/buffalo-client/src/widgets/Collapse.tsx":"19","/Users/jarvis/workspace/buffalo-client/src/widgets/ColorPicker.tsx":"20","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/PropEditorSwitcher.tsx":"21","/Users/jarvis/workspace/buffalo-client/src/widgets/NumberEditor.tsx":"22","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/CanvasBreadcrumb.tsx":"23","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/ComponentTree.tsx":"24","/Users/jarvis/workspace/buffalo-client/src/widgets/DisplayIcon.tsx":"25","/Users/jarvis/workspace/buffalo-client/src/widgets/SchemaForm.tsx":"26","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/SiderRight.tsx":"27","/Users/jarvis/workspace/buffalo-client/src/widgets/ModalSwitch.tsx":"28","/Users/jarvis/workspace/buffalo-client/src/widgets/withModal.tsx":"29","/Users/jarvis/workspace/buffalo-client/src/routes/index.tsx":"30","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/Header.tsx":"31","/Users/jarvis/workspace/buffalo-client/src/pages/Home/index.tsx":"32","/Users/jarvis/workspace/buffalo-client/src/service.tsx":"33","/Users/jarvis/workspace/buffalo-client/src/widgets/CodeModalEditor.tsx":"34","/Users/jarvis/workspace/buffalo-client/src/hooks.ts":"35","/Users/jarvis/workspace/buffalo-client/src/widgets/StyleModalEditor.tsx":"36","/Users/jarvis/workspace/buffalo-client/src/widgets/ComponentStyleEditor.tsx":"37"},{"size":907,"mtime":1640011548806,"results":"38","hashOfConfig":"39"},{"size":1478,"mtime":1640332547346,"results":"40","hashOfConfig":"39"},{"size":440,"mtime":1627443761534,"results":"41","hashOfConfig":"39"},{"size":196,"mtime":1639642906881,"results":"42","hashOfConfig":"43"},{"size":1893,"mtime":1637548571922,"results":"44","hashOfConfig":"39"},{"size":1842,"mtime":1639130354251,"results":"45","hashOfConfig":"43"},{"size":4029,"mtime":1640617941046,"results":"46","hashOfConfig":"39"},{"size":981,"mtime":1627443761526,"results":"47","hashOfConfig":"43"},{"size":966,"mtime":1637551535454,"results":"48","hashOfConfig":"43"},{"size":5505,"mtime":1640591872667,"results":"49","hashOfConfig":"39"},{"size":792,"mtime":1640339005689,"results":"50","hashOfConfig":"39"},{"size":792,"mtime":1628839633543,"results":"51","hashOfConfig":"43"},{"size":1252,"mtime":1639642285050,"results":"52","hashOfConfig":"43"},{"size":277,"mtime":1635842674157,"results":"53","hashOfConfig":"43"},{"size":307,"mtime":1639130350035,"results":"54","hashOfConfig":"43"},{"size":4708,"mtime":1640617948809,"results":"55","hashOfConfig":"39"},{"size":1427,"mtime":1639724819332,"results":"56","hashOfConfig":"39"},{"size":4044,"mtime":1640332347958,"results":"57","hashOfConfig":"39"},{"size":1045,"mtime":1627443761542,"results":"58","hashOfConfig":"39"},{"size":1184,"mtime":1627443761542,"results":"59","hashOfConfig":"39"},{"size":3565,"mtime":1640576999286,"results":"60","hashOfConfig":"39"},{"size":1189,"mtime":1627443761543,"results":"61","hashOfConfig":"39"},{"size":610,"mtime":1628843950857,"results":"62","hashOfConfig":"39"},{"size":1258,"mtime":1629079120318,"results":"63","hashOfConfig":"64"},{"size":238,"mtime":1629084132858,"results":"65","hashOfConfig":"64"},{"size":532,"mtime":1629880951069,"results":"66","hashOfConfig":"39"},{"size":208,"mtime":1636946136716,"results":"67","hashOfConfig":"43"},{"size":1143,"mtime":1639622862195,"results":"68","hashOfConfig":"39"},{"size":1831,"mtime":1636972127219,"results":"69","hashOfConfig":"39"},{"size":454,"mtime":1636979269933,"results":"70","hashOfConfig":"43"},{"size":2230,"mtime":1640330613738,"results":"71","hashOfConfig":"39"},{"size":223,"mtime":1639638062267,"results":"72","hashOfConfig":"39"},{"size":881,"mtime":1639364005906,"results":"73","hashOfConfig":"43"},{"size":1980,"mtime":1640354705613,"results":"74","hashOfConfig":"39"},{"size":294,"mtime":1637545587350,"results":"75","hashOfConfig":"43"},{"size":3110,"mtime":1640617169562,"results":"76","hashOfConfig":"39"},{"size":1134,"mtime":1640611954858,"results":"77","hashOfConfig":"39"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},"wi4tu7",{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"83"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"83"},{"filePath":"86","messages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},"tos672",{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"83"},{"filePath":"91","messages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"95","messages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"97","messages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"83"},{"filePath":"103","messages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"105","messages":"106","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"107","messages":"108","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"109","messages":"110","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"113"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"116"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"119"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"132"},"1jf3cfh",{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"132"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"137","messages":"138","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"141"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"144","messages":"145","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"150","messages":"151","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"154","messages":"155","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/jarvis/workspace/buffalo-client/src/index.tsx",[],["160","161"],"/Users/jarvis/workspace/buffalo-client/src/pages/Editor/index.tsx",[],["162","163"],"/Users/jarvis/workspace/buffalo-client/src/reportWebVitals.ts",[],"/Users/jarvis/workspace/buffalo-client/src/util.ts",[],["164","165"],"/Users/jarvis/workspace/buffalo-client/src/pages/Editor/Tools.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/pages/Editor/MaterialList.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/pages/Editor/Canvas.tsx",["166"],"/Users/jarvis/workspace/buffalo-client/src/pages/Editor/ErrorBoundary.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/store/index.ts",[],"/Users/jarvis/workspace/buffalo-client/src/pages/Editor/PropsController.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/widgets/styled.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/store/editor/selectors.ts",[],"/Users/jarvis/workspace/buffalo-client/src/store/editor/initialState.ts",[],"/Users/jarvis/workspace/buffalo-client/src/pages/Editor/Content.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/pages/Editor/Sider.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/store/editor/editorSlice.tsx",["167"],"import { createSlice, nanoid, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { remove } from \"lodash\";\r\nimport { stringify } from \"querystring\";\r\nimport { VersionInfo } from \"../../models/GetVersionConfigResult\";\r\nimport { Material } from \"../../types\";\r\nimport { initialState } from \"./initialState\";\r\nimport \"./registerComponents\";\r\nimport { componentMap } from \"./registerComponents\";\r\nexport * from \"./selectors\";\r\n\r\nexport const editorSlice = createSlice({\r\n  name: \"editor\",\r\n  initialState,\r\n  reducers: {\r\n    setVersionInfo: (state, action: PayloadAction<VersionInfo>) => {\r\n      state.versionInfo = action.payload;\r\n    },\r\n    setAppName: (state, action: PayloadAction<string>) => {\r\n      state.appName = action.payload;\r\n    },\r\n    setAppConfig: (state, action: PayloadAction<object>) => {\r\n      state.appConfig = action.payload;\r\n    },\r\n    setCursorComponentId: (state, action: PayloadAction<string>) => {\r\n      state.cursorComponentId = action.payload;\r\n    },\r\n    cursorComponentBlur: (state) => {\r\n      state.cursorComponentId = \"\";\r\n    },\r\n    addComponent: (state, action: PayloadAction<Material>) => {\r\n      const material = action.payload;\r\n      // const nextCusorId = `${++state.canvasComponentCounter}`;\r\n\r\n      // 获取到物料的默认属性\r\n      const props = componentMap.get(material.id)?.propertyControls || {};\r\n      const serializeProps = Object.entries(props).reduce(\r\n        (acc, [propName, propInfo]) => {\r\n          // 如果有defaultValue，取defaultValue\r\n          return { ...acc, [propName]: propInfo.defaultValue };\r\n        },\r\n        {}\r\n      );\r\n\r\n      // 把组件加入画布\r\n      state.components.push({\r\n        ...material,\r\n        id: nanoid(),\r\n        materialId: material.id,\r\n        props: serializeProps,\r\n        style: {},\r\n      });\r\n\r\n      // // 设置新增的组件选中状态\r\n      // state.cursorComponentId = nextCusorId;\r\n    },\r\n    setSavedComponents: (state, action: PayloadAction<any>) => {\r\n      state.components = action.payload;\r\n    },\r\n    updateComponentProp: (\r\n      state,\r\n      action: PayloadAction<{\r\n        componentId: string;\r\n        propKey: string;\r\n        propValue: any;\r\n      }>\r\n    ) => {\r\n      const target = state.components.find(\r\n        (c) => c.id === action.payload.componentId\r\n      );\r\n      if (target) {\r\n        // 如果更新的属性是 children, 查出这个 material.\r\n        const isComponentType = action.payload.propKey === \"children\";\r\n        if (isComponentType) {\r\n          const materialId = action.payload.propValue;\r\n          const material = state.materials.find((x) => x.id === materialId);\r\n          // const component =\r\n          if (!material) {\r\n            console.error(\"not such material, material id:\", materialId);\r\n            return;\r\n          }\r\n\r\n          const nextCusorId = `${++state.canvasComponentCounter}`;\r\n          // 获取到物料的默认属性\r\n          const props =\r\n            componentMap.get(material?.id as string)?.propertyControls || {};\r\n          const serializeProps = Object.entries(props).reduce(\r\n            (acc, [propName, propInfo]) => {\r\n              // 如果有defaultValue，取defaultValue\r\n              return { ...acc, [propName]: propInfo.defaultValue };\r\n            },\r\n            {}\r\n          );\r\n\r\n          target.props.children = [\r\n            {\r\n              ...material,\r\n              id: nextCusorId,\r\n              materialId: material.id,\r\n              props: serializeProps,\r\n            },\r\n          ] as any; // TODO: 怎么写这个类型？\r\n        } else {\r\n          target.props[action.payload.propKey] = action.payload.propValue;\r\n        }\r\n      } else {\r\n        console.error(\r\n          \"not such target in canvas, componentId:\",\r\n          action.payload.componentId\r\n        );\r\n      }\r\n    },\r\n    updateComponentStyle: (\r\n      state,\r\n      action: PayloadAction<{\r\n        componentId: string;\r\n        style: Record<string, string>;\r\n      }>\r\n    ) => {\r\n      const target = state.components.find(\r\n        (c) => c.id === action.payload.componentId\r\n      );\r\n      if (target) {\r\n        target.style = action.payload.style;\r\n      }\r\n    },\r\n    deleteCursorComponent: (state) => {\r\n      remove(state.components, (c) => c.id === state.cursorComponentId);\r\n      // 和清除游标\r\n      state.cursorComponentId = \"\";\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setVersionInfo,\r\n  setAppName,\r\n  setAppConfig,\r\n  setCursorComponentId,\r\n  cursorComponentBlur,\r\n  addComponent,\r\n  updateComponentProp,\r\n  deleteCursorComponent,\r\n  setSavedComponents,\r\n  updateComponentStyle,\r\n} = editorSlice.actions;\r\n\r\nexport default editorSlice.reducer;\r\n","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/property-controls.ts",[],["168","169"],"/Users/jarvis/workspace/buffalo-client/src/store/editor/registerComponents.tsx",[],["170","171"],"/Users/jarvis/workspace/buffalo-client/src/widgets/Collapse.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/widgets/ColorPicker.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/pages/Editor/PropEditorSwitcher.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/widgets/NumberEditor.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/pages/Editor/CanvasBreadcrumb.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/pages/Editor/ComponentTree.tsx",[],["172","173"],"/Users/jarvis/workspace/buffalo-client/src/widgets/DisplayIcon.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/widgets/SchemaForm.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/pages/Editor/SiderRight.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/widgets/ModalSwitch.tsx",[],["174","175"],"/Users/jarvis/workspace/buffalo-client/src/widgets/withModal.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/routes/index.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/pages/Editor/Header.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/pages/Home/index.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/service.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/widgets/CodeModalEditor.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/hooks.ts",[],"/Users/jarvis/workspace/buffalo-client/src/widgets/StyleModalEditor.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/widgets/ComponentStyleEditor.tsx",[],{"ruleId":"176","replacedBy":"177"},{"ruleId":"178","replacedBy":"179"},{"ruleId":"176","replacedBy":"180"},{"ruleId":"178","replacedBy":"181"},{"ruleId":"176","replacedBy":"182"},{"ruleId":"178","replacedBy":"183"},{"ruleId":"184","severity":1,"message":"185","line":1,"column":10,"nodeType":"186","messageId":"187","endLine":1,"endColumn":16},{"ruleId":"184","severity":1,"message":"188","line":3,"column":10,"nodeType":"186","messageId":"187","endLine":3,"endColumn":19},{"ruleId":"176","replacedBy":"189"},{"ruleId":"178","replacedBy":"190"},{"ruleId":"176","replacedBy":"191"},{"ruleId":"178","replacedBy":"192"},{"ruleId":"176","replacedBy":"193"},{"ruleId":"178","replacedBy":"194"},{"ruleId":"176","replacedBy":"195"},{"ruleId":"178","replacedBy":"196"},"no-native-reassign",["197"],"no-negated-in-lhs",["198"],["197"],["198"],["197"],["198"],"@typescript-eslint/no-unused-vars","'nanoid' is defined but never used.","Identifier","unusedVar","'stringify' is defined but never used.",["197"],["198"],["197"],["198"],["197"],["198"],["197"],["198"],"no-global-assign","no-unsafe-negation"]