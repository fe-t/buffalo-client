[{"/Users/jarvis/workspace/buffalo-client/src/index.tsx":"1","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/index.tsx":"2","/Users/jarvis/workspace/buffalo-client/src/reportWebVitals.ts":"3","/Users/jarvis/workspace/buffalo-client/src/util.ts":"4","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/Tools.tsx":"5","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/MaterialList.tsx":"6","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/Canvas.tsx":"7","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/ErrorBoundary.tsx":"8","/Users/jarvis/workspace/buffalo-client/src/store/index.ts":"9","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/PropsController.tsx":"10","/Users/jarvis/workspace/buffalo-client/src/widgets/styled.tsx":"11","/Users/jarvis/workspace/buffalo-client/src/store/editor/selectors.ts":"12","/Users/jarvis/workspace/buffalo-client/src/store/editor/initialState.ts":"13","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/Content.tsx":"14","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/Sider.tsx":"15","/Users/jarvis/workspace/buffalo-client/src/store/editor/editorSlice.tsx":"16","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/property-controls.ts":"17","/Users/jarvis/workspace/buffalo-client/src/store/editor/registerComponents.tsx":"18","/Users/jarvis/workspace/buffalo-client/src/widgets/Collapse.tsx":"19","/Users/jarvis/workspace/buffalo-client/src/widgets/ColorPicker.tsx":"20","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/PropEditorSwitcher.tsx":"21","/Users/jarvis/workspace/buffalo-client/src/widgets/NumberEditor.tsx":"22","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/CanvasBreadcrumb.tsx":"23","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/ComponentTree.tsx":"24","/Users/jarvis/workspace/buffalo-client/src/widgets/DisplayIcon.tsx":"25","/Users/jarvis/workspace/buffalo-client/src/widgets/SchemaForm.tsx":"26","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/SiderRight.tsx":"27","/Users/jarvis/workspace/buffalo-client/src/widgets/ModalSwitch.tsx":"28","/Users/jarvis/workspace/buffalo-client/src/widgets/withModal.tsx":"29","/Users/jarvis/workspace/buffalo-client/src/routes/index.tsx":"30","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/Header.tsx":"31","/Users/jarvis/workspace/buffalo-client/src/pages/Home/index.tsx":"32","/Users/jarvis/workspace/buffalo-client/src/service.tsx":"33","/Users/jarvis/workspace/buffalo-client/src/widgets/CodeModalEditor.tsx":"34","/Users/jarvis/workspace/buffalo-client/src/hooks.ts":"35","/Users/jarvis/workspace/buffalo-client/src/widgets/StyleModalEditor.tsx":"36","/Users/jarvis/workspace/buffalo-client/src/widgets/ComponentStyleEditor.tsx":"37","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/ActionController.tsx":"38","/Users/jarvis/workspace/buffalo-client/src/widgets/TableColumnsEditor.tsx":"39"},{"size":907,"mtime":1640011548806,"results":"40","hashOfConfig":"41"},{"size":1478,"mtime":1640332547346,"results":"42","hashOfConfig":"41"},{"size":440,"mtime":1627443761534,"results":"43","hashOfConfig":"41"},{"size":196,"mtime":1639642906881,"results":"44","hashOfConfig":"45"},{"size":1893,"mtime":1637548571922,"results":"46","hashOfConfig":"41"},{"size":1842,"mtime":1639130354251,"results":"47","hashOfConfig":"45"},{"size":3985,"mtime":1640749072478,"results":"48","hashOfConfig":"41"},{"size":981,"mtime":1627443761526,"results":"49","hashOfConfig":"45"},{"size":966,"mtime":1637551535454,"results":"50","hashOfConfig":"41"},{"size":6294,"mtime":1640764101967,"results":"51","hashOfConfig":"41"},{"size":792,"mtime":1640339005689,"results":"52","hashOfConfig":"41"},{"size":792,"mtime":1628839633543,"results":"53","hashOfConfig":"45"},{"size":1252,"mtime":1639642285050,"results":"54","hashOfConfig":"45"},{"size":277,"mtime":1635842674157,"results":"55","hashOfConfig":"45"},{"size":307,"mtime":1639130350035,"results":"56","hashOfConfig":"45"},{"size":4708,"mtime":1640617948809,"results":"57","hashOfConfig":"41"},{"size":1498,"mtime":1640769682308,"results":"58","hashOfConfig":"41"},{"size":4231,"mtime":1640786768102,"results":"59","hashOfConfig":"41"},{"size":1045,"mtime":1627443761542,"results":"60","hashOfConfig":"41"},{"size":1184,"mtime":1627443761542,"results":"61","hashOfConfig":"41"},{"size":3821,"mtime":1640771088459,"results":"62","hashOfConfig":"41"},{"size":1189,"mtime":1627443761543,"results":"63","hashOfConfig":"41"},{"size":610,"mtime":1628843950857,"results":"64","hashOfConfig":"41"},{"size":1258,"mtime":1629079120318,"results":"65","hashOfConfig":"66"},{"size":238,"mtime":1629084132858,"results":"67","hashOfConfig":"66"},{"size":532,"mtime":1629880951069,"results":"68","hashOfConfig":"41"},{"size":208,"mtime":1636946136716,"results":"69","hashOfConfig":"45"},{"size":1143,"mtime":1639622862195,"results":"70","hashOfConfig":"41"},{"size":1831,"mtime":1636972127219,"results":"71","hashOfConfig":"41"},{"size":454,"mtime":1636979269933,"results":"72","hashOfConfig":"45"},{"size":2230,"mtime":1640330613738,"results":"73","hashOfConfig":"41"},{"size":223,"mtime":1639638062267,"results":"74","hashOfConfig":"41"},{"size":881,"mtime":1639364005906,"results":"75","hashOfConfig":"45"},{"size":1980,"mtime":1640354705613,"results":"76","hashOfConfig":"41"},{"size":294,"mtime":1637545587350,"results":"77","hashOfConfig":"41"},{"size":3110,"mtime":1640617169562,"results":"78","hashOfConfig":"41"},{"size":1162,"mtime":1640763814562,"results":"79","hashOfConfig":"41"},{"size":1439,"mtime":1640763246486,"results":"80","hashOfConfig":"41"},{"size":3525,"mtime":1640788136843,"results":"81","hashOfConfig":"41"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},"wi4tu7",{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"87"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"87"},{"filePath":"90","messages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},"tos672",{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"95"},{"filePath":"96","messages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"100","messages":"101","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"95"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"95"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"87"},{"filePath":"108","messages":"109","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"110","messages":"111","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"112","messages":"113","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"114","messages":"115","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"118"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"135"},"1jf3cfh",{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"135"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"140","messages":"141","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"144"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"147","messages":"148","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"144"},{"filePath":"151","messages":"152","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"144"},{"filePath":"153","messages":"154","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"155","messages":"156","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"157","messages":"158","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"95"},{"filePath":"159","messages":"160","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"161","messages":"162","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"163","messages":"164","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"165","messages":"166","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/jarvis/workspace/buffalo-client/src/index.tsx",[],["167","168"],"/Users/jarvis/workspace/buffalo-client/src/pages/Editor/index.tsx",[],["169","170"],"/Users/jarvis/workspace/buffalo-client/src/reportWebVitals.ts",[],"/Users/jarvis/workspace/buffalo-client/src/util.ts",[],["171","172"],"/Users/jarvis/workspace/buffalo-client/src/pages/Editor/Tools.tsx",[],["173","174"],"/Users/jarvis/workspace/buffalo-client/src/pages/Editor/MaterialList.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/pages/Editor/Canvas.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/pages/Editor/ErrorBoundary.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/store/index.ts",[],"/Users/jarvis/workspace/buffalo-client/src/pages/Editor/PropsController.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/widgets/styled.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/store/editor/selectors.ts",[],"/Users/jarvis/workspace/buffalo-client/src/store/editor/initialState.ts",[],"/Users/jarvis/workspace/buffalo-client/src/pages/Editor/Content.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/pages/Editor/Sider.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/store/editor/editorSlice.tsx",["175"],"import { createSlice, nanoid, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { remove } from \"lodash\";\r\nimport { stringify } from \"querystring\";\r\nimport { VersionInfo } from \"../../models/GetVersionConfigResult\";\r\nimport { Material } from \"../../types\";\r\nimport { initialState } from \"./initialState\";\r\nimport \"./registerComponents\";\r\nimport { componentMap } from \"./registerComponents\";\r\nexport * from \"./selectors\";\r\n\r\nexport const editorSlice = createSlice({\r\n  name: \"editor\",\r\n  initialState,\r\n  reducers: {\r\n    setVersionInfo: (state, action: PayloadAction<VersionInfo>) => {\r\n      state.versionInfo = action.payload;\r\n    },\r\n    setAppName: (state, action: PayloadAction<string>) => {\r\n      state.appName = action.payload;\r\n    },\r\n    setAppConfig: (state, action: PayloadAction<object>) => {\r\n      state.appConfig = action.payload;\r\n    },\r\n    setCursorComponentId: (state, action: PayloadAction<string>) => {\r\n      state.cursorComponentId = action.payload;\r\n    },\r\n    cursorComponentBlur: (state) => {\r\n      state.cursorComponentId = \"\";\r\n    },\r\n    addComponent: (state, action: PayloadAction<Material>) => {\r\n      const material = action.payload;\r\n      // const nextCusorId = `${++state.canvasComponentCounter}`;\r\n\r\n      // 获取到物料的默认属性\r\n      const props = componentMap.get(material.id)?.propertyControls || {};\r\n      const serializeProps = Object.entries(props).reduce(\r\n        (acc, [propName, propInfo]) => {\r\n          // 如果有defaultValue，取defaultValue\r\n          return { ...acc, [propName]: propInfo.defaultValue };\r\n        },\r\n        {}\r\n      );\r\n\r\n      // 把组件加入画布\r\n      state.components.push({\r\n        ...material,\r\n        id: nanoid(),\r\n        materialId: material.id,\r\n        props: serializeProps,\r\n        style: {},\r\n      });\r\n\r\n      // // 设置新增的组件选中状态\r\n      // state.cursorComponentId = nextCusorId;\r\n    },\r\n    setSavedComponents: (state, action: PayloadAction<any>) => {\r\n      state.components = action.payload;\r\n    },\r\n    updateComponentProp: (\r\n      state,\r\n      action: PayloadAction<{\r\n        componentId: string;\r\n        propKey: string;\r\n        propValue: any;\r\n      }>\r\n    ) => {\r\n      const target = state.components.find(\r\n        (c) => c.id === action.payload.componentId\r\n      );\r\n      if (target) {\r\n        // 如果更新的属性是 children, 查出这个 material.\r\n        const isComponentType = action.payload.propKey === \"children\";\r\n        if (isComponentType) {\r\n          const materialId = action.payload.propValue;\r\n          const material = state.materials.find((x) => x.id === materialId);\r\n          // const component =\r\n          if (!material) {\r\n            console.error(\"not such material, material id:\", materialId);\r\n            return;\r\n          }\r\n\r\n          const nextCusorId = `${++state.canvasComponentCounter}`;\r\n          // 获取到物料的默认属性\r\n          const props =\r\n            componentMap.get(material?.id as string)?.propertyControls || {};\r\n          const serializeProps = Object.entries(props).reduce(\r\n            (acc, [propName, propInfo]) => {\r\n              // 如果有defaultValue，取defaultValue\r\n              return { ...acc, [propName]: propInfo.defaultValue };\r\n            },\r\n            {}\r\n          );\r\n\r\n          target.props.children = [\r\n            {\r\n              ...material,\r\n              id: nextCusorId,\r\n              materialId: material.id,\r\n              props: serializeProps,\r\n            },\r\n          ] as any; // TODO: 怎么写这个类型？\r\n        } else {\r\n          target.props[action.payload.propKey] = action.payload.propValue;\r\n        }\r\n      } else {\r\n        console.error(\r\n          \"not such target in canvas, componentId:\",\r\n          action.payload.componentId\r\n        );\r\n      }\r\n    },\r\n    updateComponentStyle: (\r\n      state,\r\n      action: PayloadAction<{\r\n        componentId: string;\r\n        style: Record<string, string>;\r\n      }>\r\n    ) => {\r\n      const target = state.components.find(\r\n        (c) => c.id === action.payload.componentId\r\n      );\r\n      if (target) {\r\n        target.style = action.payload.style;\r\n      }\r\n    },\r\n    deleteCursorComponent: (state) => {\r\n      remove(state.components, (c) => c.id === state.cursorComponentId);\r\n      // 和清除游标\r\n      state.cursorComponentId = \"\";\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setVersionInfo,\r\n  setAppName,\r\n  setAppConfig,\r\n  setCursorComponentId,\r\n  cursorComponentBlur,\r\n  addComponent,\r\n  updateComponentProp,\r\n  deleteCursorComponent,\r\n  setSavedComponents,\r\n  updateComponentStyle,\r\n} = editorSlice.actions;\r\n\r\nexport default editorSlice.reducer;\r\n","/Users/jarvis/workspace/buffalo-client/src/pages/Editor/property-controls.ts",[],"/Users/jarvis/workspace/buffalo-client/src/store/editor/registerComponents.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/widgets/Collapse.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/widgets/ColorPicker.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/pages/Editor/PropEditorSwitcher.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/widgets/NumberEditor.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/pages/Editor/CanvasBreadcrumb.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/pages/Editor/ComponentTree.tsx",[],["176","177"],"/Users/jarvis/workspace/buffalo-client/src/widgets/DisplayIcon.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/widgets/SchemaForm.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/pages/Editor/SiderRight.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/widgets/ModalSwitch.tsx",[],["178","179"],"/Users/jarvis/workspace/buffalo-client/src/widgets/withModal.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/routes/index.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/pages/Editor/Header.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/pages/Home/index.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/service.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/widgets/CodeModalEditor.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/hooks.ts",[],"/Users/jarvis/workspace/buffalo-client/src/widgets/StyleModalEditor.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/widgets/ComponentStyleEditor.tsx",["180"],"/Users/jarvis/workspace/buffalo-client/src/pages/Editor/ActionController.tsx",[],"/Users/jarvis/workspace/buffalo-client/src/widgets/TableColumnsEditor.tsx",[],{"ruleId":"181","replacedBy":"182"},{"ruleId":"183","replacedBy":"184"},{"ruleId":"181","replacedBy":"185"},{"ruleId":"183","replacedBy":"186"},{"ruleId":"181","replacedBy":"187"},{"ruleId":"183","replacedBy":"188"},{"ruleId":"181","replacedBy":"189"},{"ruleId":"183","replacedBy":"190"},{"ruleId":"191","severity":1,"message":"192","line":3,"column":10,"nodeType":"193","messageId":"194","endLine":3,"endColumn":19},{"ruleId":"181","replacedBy":"195"},{"ruleId":"183","replacedBy":"196"},{"ruleId":"181","replacedBy":"197"},{"ruleId":"183","replacedBy":"198"},{"ruleId":"191","severity":1,"message":"199","line":2,"column":22,"nodeType":"193","messageId":"194","endLine":2,"endColumn":31},"no-native-reassign",["200"],"no-negated-in-lhs",["201"],["200"],["201"],["200"],["201"],["200"],["201"],"@typescript-eslint/no-unused-vars","'stringify' is defined but never used.","Identifier","unusedVar",["200"],["201"],["200"],["201"],"'FlexStart' is defined but never used.","no-global-assign","no-unsafe-negation"]